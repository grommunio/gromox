.\" SPDX-License-Identifier: CC-BY-SA-4.0 or-later
.\" SPDX-FileCopyrightText: 2021-2022 grommunio GmbH
.TH gromox\-mkpublic 8gx "" "Gromox" "Gromox admin reference"
.SH Name
gromox\-mkpublic \(em Tool for creating a blank public store
.SH Synopsis
\fBgromox\-mkpublic\fP [\fB\-Uv\fP] [\fB\-T\fP \fItemplate_dir\fP] [\fB\-c\fP
\fIconfig\fP] [\fB\-f\fP] \fIdomainname\fP
.SH Options
.TP
\fB\-T\fP \fIpath\fP
This option can be used to override the built-in data path
for folder name translations and prepoulated named properties.
.br
Default: \fI/usr/share/gromox\fP
.TP
\fB\-U\fP
Rather than creating the SQLite file, upgrade it. (The \-f option has no
effect.) mkpublic does not coordinate with exmdb_provider(4gx) and data
corruption is possible if both try to edit the file at the same time. You
should let exmdb_provider(4gx) do upgrades instead, via the
"exmdb_schema_upgrades" directive, or at the very least, stop
http(8gx)/exmdb_provider when using mkpublic \-U.
.TP
\fB\-c\fP \fIconfig\fP
Read configuration directives from the given file. If this option is not
specified, /etc/gromox/mysql_adaptor.cfg will be read for MySQL connection
parameters if that file exists.
.TP
\fB\-f\fP
Force overwrite when an existing SQLite database is detected for the user.
By default, mkpublic will not touch exchange.sqlite3.
.TP
\fB\-v\fP
Turn on verbose mode for \-U.
.TP
\fB\-\-create\-old\fP
Create blank initial database using version 0. (This can be used for testing
the upgrade procedure.)
.TP
\fB\-\-integrity\fP
Perform SQLite integrity check.
.TP
\fB\-?\fP
Display option summary.
.SH Files
.IP \(bu 4
\fIdata_file_path\fP/propnames.txt: Initial set of named properties to add to
the new private store.
.IP \(bu 4
\fI/var/lib/gromox/...\fP/exmdb/exchange.sqlite3: MAPI object database.
.SH See also
\fBgromox\fP(7), \fBgromox\-mkprivate\fP(8gx), \fBmysql_adaptor\fP(4gx)
